# Prettier Addon

The `Prettier` Addon in **Servest** automatically sets up code formatting in your Servest project using Prettier â€” ensuring a consistent and clean code style across your team.

---

## What It Does

When you run the following command:

```bash
npx servest@latest add prettier
```

Servest will:

1. **Verify** that you're using a Node.js-based framework (e.g., Express, Fastify, NestJS, Koa).
2. **Install** the required Prettier package.
3. **Generate** configuration files for Prettier (like `.prettierrc` and `.prettierignore`).
4. **Add scripts** to your `package.json` to easily run Prettier checks or fix formatting issues.

---

## Installed Packages

| Package    | Version | Description                                                         |
| ---------- | ------- | ------------------------------------------------------------------- |
| `prettier` | `3.6.2` | The core code formatter for JavaScript, TypeScript, and JSON files. |

---

## What It Adds

### 1. Configuration Files

If not already present, Servest creates two files:

- `.prettierrc` â†’ Contains your Prettier configuration options (like tab width, quotes, and semicolons).
- `.prettierignore` â†’ Lists files and folders to skip during formatting (like `node_modules` or build directories).

These files are created automatically inside your **project root**.

### 2. Package Scripts

The addon adds the following scripts to your `package.json`:

```json
"scripts": {
  "prettier": "prettier --ignore-path .gitignore --check \"./src/**/*.+(js|ts|json)\"",
  "prettier:fix": "prettier --ignore-path .gitignore --write \"./src/**/*.+(js|ts|json)\""
}
```

This allows you to quickly check or fix formatting issues with simple commands:

```bash
npm run prettier      # Check code formatting
npm run prettier:fix  # Automatically fix code formatting
```

---

## How It Works Internally

1. **Framework Check:**  
   Ensures the detected framework is Node.js-based using `checkNodeFramework()`.

2. **Install Packages:**  
   Uses `cross-spawn` to run the installation command dynamically, based on your selected package manager (`npm`, `pnpm`, or `yarn`).

3. **Config Creation:**  
   Runs `addPrettierConfig()` to create `.prettierrc` and `.prettierignore` files if they donâ€™t exist.

4. **Package Script Updates:**  
   Adds `prettier` and `prettier:fix` scripts to your `package.json` for easy usage.

5. **Confirmation Messages:**
   - âœ… Added lint scripts to package.json. ---> Shows when configuration and scripts are successfully added.
   - ðŸ‘ Prettier already installed ---> Appears if Prettier is already installed.
   - ðŸŽ‰ Prettier setup completed! ---> Confirms successful setup.

---

## Notes

- You can safely re-run `npx servest@latest add prettier` â€” it will skip existing configurations without overwriting your setup.
- Works seamlessly with the [ESLint Addon](./eslint) for combined linting and formatting workflows.

---

## Example Usage

```bash
# Add Prettier to your project
npx servest@latest add prettier

# Run Prettier to check formatting
npm run prettier

# Automatically fix formatting issues
npm run prettier:fix
```

Once complete, your project will have automatic formatting capabilities â€” keeping your codebase beautiful and consistent.
